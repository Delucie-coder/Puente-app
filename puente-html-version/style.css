:root {
  /* Dark green aesthetic palette */
  --bg: linear-gradient(180deg,#0b2b20 0%, #09321f 100%);
  --page-bg-color: #082916; /* fallback solid */
  /* canvas and accents tuned to the provided screenshot */
  --canvas-bg-top: #2f4ea1; /* deep blue */
  --canvas-bg-bottom: #3b57a9; /* lighter blue */
  --canvas-card: #ffffff; /* white canvas */
  --icon-default: #24303A; /* default icon stroke */
  --icon-vendor: #b76a3b;
  --icon-moto: #0aa39a;
  --focus-ring: rgba(37,99,235,0.16);
  --card:#0f2f24;
  --text:#e6f6ef;
  --muted:#9fbfaa;
  --brand:#067f4a;
  --brand-2:#0aa36a;
  --line:rgba(255,255,255,0.06);
  --good:#34d399;
  :root {
    --g-900: #052b20;
    --g-800: #073b29;
    --g-700: #0b6b44;
    --g-600: #0f8f56;
    --g-500: #12b57f;
    --g-400: #34d399;
    --g-300: #9be3c6;
    --g-100: #edf9f2;
    --white: #ffffff;
    --black: #071019;
    --surface: #fbfdfb; /* very light green-white */
    --card-surface: #ffffff; /* cards stay white for clarity */
    --muted-green: #8fd7b8;
    --card-shadow: rgba(2,6,23,0.06);
  }

  /* Page: green backdrop, very subtle to give context */
  body { background: linear-gradient(180deg, rgba(5,43,32,0.95) 0%, rgba(11,107,68,0.88) 100%); color: var(--white); }

  /* Canvas and main surface: soft off-white so content pops */
  .student-dashboard .canvas, .canvas { background: var(--surface) !important; color: var(--black) !important; box-shadow: 0 12px 30px var(--card-shadow) !important; border-radius:14px; }

  /* Cards: crisp white with subtle rounded corners and soft shadow */
  .card, .panel, .modal-card, .popover-card { background: var(--card-surface) !important; border: 1px solid rgba(6,105,56,0.06) !important; color: var(--black) !important; box-shadow: 0 8px 20px rgba(3,10,6,0.04); border-radius:12px; }

  /* Headings and prominent text: dark for legibility */
  .canvas h1, .canvas h2, .canvas h3, .canvas h4, .card > h3 { color: var(--black) !important; }
  .lesson-title, .profile-name { color: var(--black) !important; }

  /* Muted text -> soft green */
  .muted, .canvas .muted, .profile-email { color: var(--muted-green) !important; }

  /* Buttons and links: green primary, subtle secondary */
  .btn-primary { background: linear-gradient(90deg,var(--g-600),var(--g-500)) !important; color: var(--white) !important; border: none !important; box-shadow: 0 8px 18px rgba(10,120,78,0.08); }
  .btn-primary:hover { transform: translateY(-1px); }
  .btn, .link-btn { color: var(--black) !important; border: 1px solid rgba(6,105,56,0.06) !important; background: transparent !important; }
  .canvas a { color: var(--g-600) !important; }

  /* Topbar: white surface with subtle green accent */
  .topbar { background: var(--card-surface) !important; border-color: rgba(6,105,56,0.04) !important; box-shadow: 0 6px 18px rgba(2,6,23,0.04); }
  .topbar .brand { border-left: 4px solid var(--g-600); padding-left:10px }

  /* Left rail and rail buttons */
  .left-rail, .student-dashboard .left-rail { background: transparent !important; }
  .rail-btn { background: transparent !important; color: var(--g-100) !important; border-radius:10px }
  .rail-btn.active, .rail-btn[aria-pressed="true"] { background: linear-gradient(180deg,var(--g-700),var(--g-600)) !important; color:var(--white) !important; box-shadow:0 8px 20px rgba(6,105,56,0.10) !important; }
  .rail-btn:hover { box-shadow:0 8px 18px rgba(6,105,56,0.06) !important; }

  /* KPI and stat colors */
  .kpi, .kpi .value { background: transparent !important; color: var(--black) !important; }
  .kpi.good { color: var(--g-400) !important; }
  .kpi.warn { color: var(--g-500) !important; }

  /* Week tiles and progress bars */
  .program-week-tile { background: var(--card-surface) !important; color: var(--black) !important; border-color: rgba(6,105,56,0.06) !important; }
  .program-week-tile.selected { box-shadow: 0 14px 36px rgba(6,105,56,0.08) !important; border-color: rgba(6,105,56,0.14) !important; }
  .program-week-tick.done { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; }
  .program-week-progress .bar { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; }

  /* Badges and small UI touches */
  .threshold-source.local { background: rgba(10,163,106,0.06) !important; color: var(--black) !important; border-color: rgba(10,163,106,0.08) !important; }
  .toast.success { border-left:4px solid var(--g-400) !important; background: var(--card-surface) !important; color: var(--black) !important; box-shadow:0 8px 18px rgba(2,6,23,0.06) }

  /* Forms and inputs - soft green focus */
  input:focus, select:focus, textarea:focus { border-color: var(--g-500) !important; box-shadow: 0 0 0 6px rgba(6,127,74,0.06) !important; }

  /* Images/icons subtle borders */
  .logo-img, .profile-card img { box-shadow: 0 6px 18px rgba(0,0,0,0.06) !important; border: 1px solid rgba(6,105,56,0.04) !important; }

  /* Last-resort override: avoid hard-coded blues showing through */
  [style*="#0f71ff"], [style*="#2f4ea1"], [style*="#3b57a9"] { color: inherit !important; background: transparent !important; }

  /* End global green-theme overrides */
.student-dashboard .card > h3{ color:#3b2b22 }

/* Re-style internal content blocks so they look like panels on the white canvas */
.panel { background: #ffffff; border-radius:12px; padding:14px; box-shadow: 0 8px 24px rgba(34,41,56,0.06); border:1px solid #eef2f6 }

/* Adjust calendar and grades sidebar cards */
.student-dashboard .calendar-card, .student-dashboard .grades-card { background:#f8fafc; border-radius:10px; padding:12px; box-shadow:none; border:1px solid #eef2f6 }

/* Top search bar style inside canvas */
.student-dashboard .topbar{ background:transparent; border:none; padding:0; margin-bottom:8px }

/* Make lessons list appear as compact cards inside the canvas */
.student-dashboard .card-grid .card{ background:#ffffff; border:1px solid #f1f5f9; padding:12px; border-radius:10px }

/* Small screens: collapse canvas layout */
@media (max-width:900px){ .student-dashboard .canvas{ flex-direction:column; padding:12px } .student-dashboard .dash-sidebar{ width:100%; } .student-dashboard .program-week-grid { grid-template-columns: repeat(3, 1fr); } }

/* Left icon rail */
.student-dashboard .left-rail{ width:72px; display:flex; flex-direction:column; gap:12px; align-items:center; padding:18px 8px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; }
.student-dashboard .left-rail .rail-btn{ width:52px; height:52px; border-radius:12px; display:grid; place-items:center; border:none; background:#f6f7fb; cursor:pointer; font-size:18px; padding:6px; transition:transform .14s ease, box-shadow .14s ease, background .12s ease }
.student-dashboard .left-rail .rail-btn:hover{ transform:translateY(-4px); box-shadow:0 10px 24px rgba(17,24,39,0.06) }

/* Icon sizing and theming: allow the svg symbols to inherit color via currentColor */
.student-dashboard .left-rail .rail-btn .icon{ width:20px; height:20px; display:block; color:var(--icon-default) }
.student-dashboard .left-rail .rail-btn .icon use{ color:inherit }

/* Improve hit target and keyboard focus styles */
.student-dashboard .left-rail .rail-btn:focus{ outline:none }
.student-dashboard .left-rail .rail-btn:focus-visible{ box-shadow: 0 0 0 4px var(--focus-ring); border-radius:12px }
.student-dashboard .left-rail .rail-btn:active{ transform:translateY(0) }

/* Compact week list rendered inside the narrow left rail */
.rail-week-list{ display:flex; flex-direction:column; gap:8px; margin-top:8px; }
.rail-week-item{ width:40px; height:36px; display:grid; place-items:center; border-radius:8px; background:transparent; color:var(--muted); border:none; cursor:pointer; font-weight:700 }
.rail-week-item.selected{ background: linear-gradient(90deg, rgba(37,99,235,0.08), rgba(37,99,235,0.02)); color:var(--text); }
.rail-week-item.done{ background:var(--good); color:#fff }
.rail-week-item.inprogress{ background: linear-gradient(90deg,#6366f1,#4f46e5); color:#fff }
.rail-week-item.pending{ background:transparent; color:var(--muted) }

/* Top horizontal week selector (moved from left rail) */
.top-week-selector{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px }
.top-week-btn{ padding:8px 12px; border-radius:8px; background:transparent; border:1px solid #eef2f6; cursor:pointer; font-weight:700; color:#475569 }
.top-week-btn.selected{ background:#2563eb; color:#fff; border-color:transparent }
.top-week-btn.done{ background:var(--good); color:#fff; border-color:transparent }
.top-week-btn.inprogress{ background: linear-gradient(90deg,#6366f1,#4f46e5); color:#fff; border-color:transparent }

/* Side (left) week selector used inside lesson card */
.side-week-selector{ display:flex; flex-direction:column; gap:8px; }
.side-week-btn{ width:56px; height:40px; border-radius:8px; background:transparent; border:1px solid #eef2f6; cursor:pointer; font-weight:700; color:#475569; display:inline-flex; align-items:center; justify-content:center; font-size:13px }
.side-week-btn.selected{ background:#2563eb; color:#fff; border-color:transparent }
.side-week-btn.done{ background:var(--good); color:#fff; border-color:transparent }
.side-week-btn.inprogress{ background: linear-gradient(90deg,#6366f1,#4f46e5); color:#fff; border-color:transparent }

/* Quick weeks duplicate inside main canvas (wrap style for small buttons) */
#weekListMainInner .mini-week{ padding:8px 10px; border-radius:8px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01)); color:var(--text); cursor:pointer; border:1px solid rgba(255,255,255,0.03); }
#weekListMainInner .mini-week.selected{ border-color:#2563eb; box-shadow:0 8px 20px rgba(37,99,235,0.06); }
#weekListMainInner .mini-week.done{ background:var(--good); color:#fff; border-color:transparent }

/* Hover / active color accent depending on role */
.student-dashboard .left-rail .rail-btn:hover .icon{ color:var(--icon-default) }
.student-dashboard.vendor .left-rail .rail-btn:hover .icon{ color:var(--icon-vendor) }
.student-dashboard.moto .left-rail .rail-btn:hover .icon{ color:var(--icon-moto) }

/* pressed/active rail button state */
.student-dashboard .left-rail .rail-btn[aria-pressed="true"]{ background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96)); box-shadow:0 10px 26px rgba(17,24,39,0.08) }
.student-dashboard .left-rail .rail-btn[aria-pressed="true"] .icon{ color:var(--icon-default) }
.student-dashboard.vendor .left-rail .rail-btn[aria-pressed="true"] .icon{ color:var(--icon-vendor) }
.student-dashboard.moto .left-rail .rail-btn[aria-pressed="true"] .icon{ color:var(--icon-moto) }

/* KPI row in hero */
.kpi-row{ display:flex; gap:12px; justify-content:flex-start; margin-top:14px }
.kpi{ width:120px; text-align:center; padding:10px; border-radius:10px; border:1px solid #f1f5f9; background:#fff }
.kpi-value{ font-size:20px; font-weight:800; color:#2b3a42 }
.kpi-label{ font-size:12px; color:#7b8b8f }

/* Role-specific accents for left-rail and KPI highlights */
.student-dashboard.vendor .left-rail .rail-btn{ background: #fff7f1 }
.student-dashboard.vendor .kpi-value{ color:#b76a3b }
.student-dashboard.moto .left-rail .rail-btn{ background: #f1fbfa }
.student-dashboard.moto .kpi-value{ color:#0aa39a }

@media (max-width:700px){ .student-dashboard .left-rail{ width:100%; flex-direction:row; justify-content:flex-start; padding:8px } .student-dashboard .left-rail .rail-btn{ width:40px;height:40px;border-radius:8px } .kpi-row{ justify-content:space-between } }

/* Role specific tweaks */
/* Vendor dashboard: Deeper / Darker green (elegant, higher contrast) */
.student-dashboard.vendor { background: linear-gradient(180deg,#052b20 0%, #0b6b44 100%); }
.student-dashboard.vendor .program-week-tile.done { box-shadow: 0 14px 36px rgba(3,80,48,0.20); border-color: rgba(6,105,56,0.18); }
.student-dashboard.vendor .btn-primary { background: #087a4f }
.student-dashboard.vendor .kpi .value, .student-dashboard.vendor .kpi-row .value { color: #c9f7df }

/* Motorcyclist dashboard: Deeper / Darker green (distinct, refined) */
.student-dashboard.moto { background: linear-gradient(180deg,#063c29 0%, #0e7a4c 100%); }
.student-dashboard.moto .program-week-tile.done { box-shadow: 0 14px 36px rgba(6,120,78,0.20); border-color: rgba(12,140,90,0.16); }
.student-dashboard.moto .btn-primary { background:#0a8f56 }
.student-dashboard.moto .kpi .value, .student-dashboard.moto .kpi-row .value { color: #e6fbef }

/* Replace remaining blue accents with green for Vendor view */
.student-dashboard.vendor {
  --canvas-bg-top: #063523;
  --canvas-bg-bottom: #0b6b44;
  --brand: #086948;
  --brand-2: #12b57f;
  --focus-ring: rgba(6,105,56,0.16);
}
.student-dashboard.vendor .top-week-btn.selected { background: linear-gradient(90deg,#0b8f5f,#087a4f); color:#fff; border-color:transparent }
.student-dashboard.vendor .rail-week-item.inprogress { background: linear-gradient(90deg,#0b8f5f,#087a4f); color:#fff }
.student-dashboard.vendor .rail-week-item.selected { background: linear-gradient(90deg, rgba(11,143,95,0.14), rgba(8,122,79,0.06)); border-left-color: var(--brand-2); }
.student-dashboard.vendor .program-week-tile.selected { box-shadow: 0 18px 40px rgba(3,80,48,0.18); border-color: rgba(6,105,56,0.18); }
.student-dashboard.vendor .program-week-progress .bar { background: linear-gradient(90deg,#16a34a,#059669); }

/* Replace remaining blue accents with green for Motorcyclist view */
.student-dashboard.moto{
  --canvas-bg-top: #063c29;
  --canvas-bg-bottom: #0e7a4c;
  --brand: #0a8f56;
  --brand-2: #0fb06f;
  --focus-ring: rgba(10,143,86,0.16);
}
.student-dashboard.moto .top-week-btn.selected { background: linear-gradient(90deg,#0a8f56,#0fb06f); color:#fff; border-color:transparent }
.student-dashboard.moto .rail-week-item.inprogress { background: linear-gradient(90deg,#0a8f56,#0fb06f); color:#fff }
.student-dashboard.moto .rail-week-item.selected { background: linear-gradient(90deg, rgba(10,143,86,0.14), rgba(15,176,111,0.06)); border-left-color: var(--brand-2); }
.student-dashboard.moto .program-week-tile.selected { box-shadow: 0 18px 40px rgba(6,120,78,0.18); border-color: rgba(12,140,90,0.16); }
.student-dashboard.moto .program-week-progress .bar { background: linear-gradient(90deg,#059669,#10b981); }

/* Make sure vendor/moto class styling applies when body has them */
/* body role classes are used on <body> for high-level theme switching */

/* Responsive tweaks for hero */
@media (max-width:900px){ .student-dashboard .hero-sub{ flex-direction:column; align-items:stretch } .student-dashboard .hero-right { text-align:left } .student-dashboard .search-input{ width:100%; } }

/* ---------- Auth ---------- */
.auth-body { min-height:100vh; display:grid; place-items:center; padding:24px; }
.auth-card {
  width:100%; max-width:440px; background:var(--card); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:28px;
}
.brand { display:flex; align-items:center; gap:14px; margin-bottom:12px; }
.logo-circle {
  inline-size:48px; block-size:48px; border-radius:50%; display:grid; place-items:center;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:white; font-weight:700;
  letter-spacing:.5px; box-shadow:var(--shadow); font-size:18px;
}

/* logo image inside the circular brand */
.logo-circle .logo-img{
  width:40px;
  height:40px;
  border-radius:50%;
  object-fit:cover;
  display:block;
}
.brand-text h1 { font-size:24px; margin:0; }
.brand-text p { color:var(--muted); font-size:13px; }
.auth-form { display:flex; flex-direction:column; gap:14px; margin-top:18px; }
.form-group { display:flex; flex-direction:column; gap:8px; }
input,select {
  padding:12px 14px; border:1px solid var(--line); border-radius:12px; background:#fff;
}
input:focus,select:focus {
  border-color:var(--brand); box-shadow:0 0 0 3px rgba(37,99,235,.15);
}
.btn-primary {
  padding:12px 16px; border:none; border-radius:12px; background:var(--brand); color:#fff;
  font-weight:700; cursor:pointer; transition:.2s;
}
.btn-primary:hover { background:var(--brand-2); }
.muted { color:var(--muted); font-size:12px; text-align:center; }

/* ---------- Dashboard Layout ---------- */
.container { display:flex; min-height:100vh; }
.sidebar {
  width:260px; /* match screenshot width */
  background: linear-gradient(180deg, rgba(6,150,90,0.18) 0%, rgba(4,120,70,0.08) 100%);
  color:var(--text); display:flex; flex-direction:column; justify-content:flex-start;
  padding:22px 18px; gap:18px; border-right:1px solid rgba(255,255,255,0.04);
}
.sidebar .brand-row { display:flex; align-items:center; gap:12px; }
.nav a {
  display:block; padding:12px 14px; border-radius:10px; color:rgba(255,255,255,0.9); text-decoration:none;
  display:flex; align-items:center; gap:12px; font-weight:700; transition:background .12s ease, transform .12s ease;
}
.nav a:hover { background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); transform:translateX(4px); }
.nav a.active {
  background: linear-gradient(90deg, rgba(6,150,90,0.16), rgba(6,150,90,0.06));
  color:#ffffff; box-shadow: 0 8px 24px rgba(4,120,70,0.14);
  border-left:4px solid var(--brand-2); padding-left:10px;
}
.main { flex:1; padding:22px; display:flex; flex-direction:column; gap:18px; }
.topbar {
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border-radius:12px; box-shadow:var(--shadow);
  display:flex; justify-content:space-between; align-items:center; padding:12px 18px;
}
.user-chip { display:flex; align-items:center; gap:10px; }
.user-badge { background:#eef2ff; color:#3730a3; font-size:12px; border-radius:999px; padding:6px 10px; }
.grid { display:grid; gap:16px; grid-template-columns:repeat(12,minmax(0,1fr)); }
.card {
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border-radius:12px; box-shadow:var(--shadow); padding:18px; color:var(--text);
}
.card h3 { margin-bottom:8px; }
.stat { font-size:28px; font-weight:800; }
.kpi.good { color:var(--good); } .kpi.warn { color:var(--warn); } .kpi.bad { color:var(--bad); }
.table { width:100%; border-collapse:collapse; }
.table th, .table td { padding:12px; border-bottom:1px solid var(--line); text-align:left; }
.table th { color:var(--muted); font-size:12px; text-transform:uppercase; }
.actions { display:flex; gap:8px; }
.btn { padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:transparent; cursor:pointer; color:var(--text); }
.btn.approve { background: rgba(52,211,153,0.08); color:var(--good); border-color: rgba(52,211,153,0.12); }
.btn.reject { background: rgba(251,105,112,0.06); color:var(--bad); border-color: rgba(251,105,112,0.08); }

/* Slightly larger tap targets and nicer hover states */
.btn { padding:10px 14px; font-weight:600; transition:transform .12s ease, background .12s ease, box-shadow .12s ease }
.btn:hover { transform:translateY(-2px); box-shadow:0 8px 18px rgba(0,0,0,0.06) }
.btn:active { transform:translateY(0) }

.btn-primary { background:#b76a3b; color:#fff; border:none }
.btn-primary:hover { background:#c17a4a }

/* Muted text variation for light theme */
.student-dashboard .muted { color:#9b8777 }

/* Lesson/resource cards slight padding increase */
.lesson-card { padding:14px }

/* Make program-week grid more flexible and readable on desktop */
.program-week-grid { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap:14px; }
.program-week-tile { min-height:110px; display:flex; flex-direction:column; justify-content:space-between }
.program-week-number{ text-transform:uppercase; font-size:12px }

/* Small screens: make tiles more compact */
@media (max-width:520px){ .student-dashboard .program-week-grid { grid-template-columns: repeat(2, 1fr); } }

/* Visual cue when a search is performed from the hero input */
.search-highlight { outline: 3px solid rgba(183,106,59,0.12); box-shadow: 0 14px 40px rgba(183,106,59,0.06); transform: translateY(-4px); transition: box-shadow .28s ease, transform .18s ease, outline .18s ease; border-radius:10px }

/* Small utility grid for cards */
.card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px}

/* Week schedule grid for lessons */
.week-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px}
.week-grid .btn{width:100%;text-align:center;padding:10px 12px;border-radius:12px}

/* Course sidebar week list (matches screenshot) */
.course-sidebar { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01)); border-radius:12px; }
.course-sidebar .week-item { display:flex;align-items:center;gap:12px;padding:10px;border-radius:8px;cursor:pointer;border-left:4px solid transparent }
.course-sidebar .week-item .check { width:28px;height:28px;border-radius:50%;display:grid;place-items:center;border:2px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);font-size:14px }
.course-sidebar .week-item.done .check { background:var(--good);color:#fff;border:none }
.course-sidebar .week-item .title { flex:1;text-align:left }
.course-sidebar .week-item.selected { background: linear-gradient(90deg, rgba(37,99,235,0.06), rgba(37,99,235,0.02)); border-left-color: #2563eb; }
.course-sidebar .week-item .week-num { font-weight:600 }
.course-sidebar .grades-card { background:transparent;border-radius:8px }


/* Muted text */
.muted { color:var(--muted); }

/* Layout helpers */
.content-wrapper{max-width:1100px;margin:2rem auto;padding:1rem}
.flex-1{flex:1}
:root {
  --g-900: #052b20;
  --g-800: #073b29;
  --g-700: #0b6b44;
  --g-600: #0f8f56;
  --g-500: #12b57f;
  --g-400: #34d399;
  --g-300: #9be3c6;
  --g-100: #edf9f2;
  --white: #ffffff;
  --black: #071019;
  --surface: #ffffff;
  --muted-green: #9be3c6;
}

/* Page background remains green; canvas and cards use white surface for contrast */
body { background: linear-gradient(180deg, var(--g-900) 0%, var(--g-700) 100%) !important; color: var(--white) !important; }
.student-dashboard .canvas, .canvas { background: var(--surface) !important; color: var(--black) !important; box-shadow: 0 30px 60px rgba(2,6,23,0.22) !important; }

/* Cards and panels use white surface with subtle green borders */
.card, .panel, .modal-card, .popover-card { background: var(--surface) !important; border: 1px solid rgba(6,105,56,0.08) !important; color: var(--black) !important; }

/* Headings and prominent text */
.canvas h1, .canvas h2, .canvas h3, .canvas h4, .card > h3 { color: var(--black) !important; }
.lesson-title, .profile-name { color: var(--black) !important; }

/* Muted text -> soft green/muted black */
.muted, .canvas .muted, .profile-email { color: var(--muted-green) !important; }

/* Buttons and links */
.btn-primary { background: var(--g-600) !important; color: var(--white) !important; border-color: transparent !important; }
.btn-primary:hover { background: var(--g-500) !important; }
.btn, .link-btn { color: var(--black) !important; border-color: rgba(6,105,56,0.06) !important; background: transparent !important; }
.canvas a { color: var(--g-600) !important; }

/* Topbar and nav */
.topbar { background: var(--surface) !important; border-color: rgba(6,105,56,0.04) !important; }
.sidebar, .student-dashboard .sidebar { background: linear-gradient(180deg, var(--g-900), var(--g-800)) !important; }

/* Left rail and rail buttons */
.left-rail, .student-dashboard .left-rail { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01)) !important; }
.rail-btn { background: transparent !important; color: var(--g-100) !important; }
.rail-btn.active, .rail-btn[aria-pressed="true"] { background: linear-gradient(180deg,var(--g-700),var(--g-600)) !important; color:var(--white) !important; box-shadow:0 12px 30px rgba(4,80,50,0.18) !important; }
.rail-btn:hover { box-shadow:0 10px 24px rgba(4,80,50,0.10) !important; }

/* KPI and stat colors */
.kpi, .kpi .value { background: transparent !important; color: var(--black) !important; }
.kpi.good { color: var(--g-400) !important; }
.kpi.warn { color: var(--g-500) !important; }

/* Week tiles and progress bars */
.program-week-tile { background: var(--surface) !important; color: var(--black) !important; border-color: rgba(6,105,56,0.06) !important; }
.program-week-tile.selected { box-shadow: 0 18px 40px rgba(3,80,48,0.12) !important; border-color: rgba(6,105,56,0.18) !important; }
.program-week-tick.done { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; }
.program-week-progress .bar { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; }

/* Progress summary, badges and small UI touches */
.threshold-source.local { background: rgba(10,163,106,0.06) !important; color: var(--black) !important; border-color: rgba(10,163,106,0.08) !important; }
.toast.success { border-left:4px solid var(--g-400) !important; background: var(--surface) !important; color: var(--black) !important; }

/* Forms and inputs - subtle green focus */
input:focus, select:focus, textarea:focus { border-color: var(--g-500) !important; box-shadow: 0 0 0 4px rgba(6,127,74,0.06) !important; }

/* Ensure images/icons remain visible on dark green backgrounds */
.logo-img, .profile-card img { box-shadow: 0 8px 24px rgba(0,0,0,0.12) !important; border: 2px solid rgba(6,105,56,0.06) !important; }

/* Last-resort override: avoid hard-coded blues showing through */
[style*="#0f71ff"], [style*="#2f4ea1"], [style*="#3b57a9"] { color: inherit !important; background: transparent !important; }

/* End global green-theme overrides */
}
/* ------------------------------------------------------------------ */
/* Light mockup restore (returns UI to white canvas/cards)            */
/* This block intentionally re-establishes the original light theme   */
/* without touching any JavaScript or functionality.                   */
/* It sits at the end of the stylesheet so it wins over earlier rules.*/
/* ------------------------------------------------------------------ */
:root {
  --page-bg: #f7fafc; /* soft off-white page background */
  --surface: #ffffff; /* primary canvas and card surfaces */
  --card-surface: #ffffff;
  --white: #ffffff;
  --black: #071019;
  --text: #0b1220;
  --muted: #6b7280;
  --line: rgba(15,23,42,0.06);
  --brand: #2563eb; /* keep brand blue by default for links/buttons */
  --brand-2: #1d4ed8;
  --focus-ring: rgba(37,99,235,0.12);
  --good: #16a34a;
}

/* Page background and canvas (light mockup) */
body { background: var(--page-bg) !important; color: var(--text) !important; }
.canvas, .student-dashboard .canvas { background: var(--surface) !important; color: var(--text) !important; box-shadow: 0 8px 24px rgba(2,6,23,0.06) !important; }

/* Cards & panels: crisp white */
.card, .panel, .modal-card, .popover-card { background: var(--card-surface) !important; color: var(--text) !important; border: 1px solid var(--line) !important; box-shadow: 0 6px 18px rgba(2,6,23,0.04) !important; }

/* Headings and text */
.canvas h1, .canvas h2, .canvas h3, .canvas h4, .card > h3 { color: var(--text) !important; }
.muted, .canvas .muted, .profile-email { color: var(--muted) !important; }

/* Buttons & links (return to blue brand for interactive affordance) */
.btn-primary { background: linear-gradient(90deg,var(--brand),var(--brand-2)) !important; color: var(--white) !important; border: none !important; }
.btn-primary:hover { background: linear-gradient(90deg,var(--brand-2),#0ea5e9) !important; }
.btn, .link-btn { color: var(--text) !important; border: 1px solid var(--line) !important; background: transparent !important; }
.canvas a, a { color: var(--brand) !important; }

/* Topbar & sidebar: light surfaces */
.topbar { background: var(--surface) !important; border-color: var(--line) !important; box-shadow: 0 6px 18px rgba(2,6,23,0.04) !important; }
.sidebar { background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96)) !important; color: var(--text) !important; border-right: 1px solid var(--line) !important; }

/* Left rail: neutral light rail */
.left-rail, .student-dashboard .left-rail { background: linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.01)) !important; }
.rail-btn { background: #f1f5f9 !important; color: rgba(15,23,42,0.7) !important; }
.rail-btn.active, .rail-btn[aria-pressed="true"] { background: linear-gradient(180deg,#eef2ff,#f8fafc) !important; color: var(--brand) !important; box-shadow: 0 8px 20px rgba(2,6,23,0.06) !important; }

/* Week items: neutral, with green success */
.rail-week-item.selected, .top-week-btn.selected, .side-week-btn.selected { background: linear-gradient(90deg, rgba(37,99,235,0.08), rgba(37,99,235,0.02)) !important; color: var(--text) !important; }
.rail-week-item.inprogress, .top-week-btn.inprogress, .side-week-btn.inprogress { background: linear-gradient(90deg,#6366f1,#4f46e5) !important; color: #fff !important; }
.rail-week-item.done, .top-week-btn.done, .side-week-btn.done { background: var(--good) !important; color: #fff !important; }

/* Program week tiles: white with soft border */
.program-week-tile { background: linear-gradient(180deg,#ffffff,#fbfbfb) !important; color: var(--text) !important; border: 1px solid var(--line) !important; box-shadow: 0 6px 18px rgba(2,6,23,0.04) !important; }
.program-week-tile.selected { box-shadow: 0 14px 36px rgba(2,6,23,0.06) !important; border-color: rgba(15,23,42,0.06) !important; }
.program-week-progress .bar { background: linear-gradient(90deg,#16a34a,#059669) !important; }

/* Inputs focus ring to blue brand (non-functional) */
input:focus, select:focus, textarea:focus { box-shadow: 0 0 0 6px rgba(37,99,235,0.06) !important; border-color: rgba(37,99,235,0.12) !important; }

/* Toasts neutral background */
.toast { background: var(--surface) !important; color: var(--text) !important; box-shadow: 0 8px 30px rgba(2,6,23,0.06) !important; }

/* Neutralize any strong green overrides that may remain */
[class*="g-"] { }

/* End light mockup restore */

/* ------------------------------------------------------------------ */
/* Strong green override (final safety net)                            */
/* Ensures any remaining blue/purple accents are mapped to greens      */
/* ------------------------------------------------------------------ */
:root { --final-green-1: var(--g-600); --final-green-2: var(--g-500); }

/* Replace specific blue/purple selected states with green variants */
.top-week-btn.selected,
.side-week-btn.selected,
.rail-week-item.selected,
.rail-week-item.inprogress,
.rail-week-item.done,
.rail-week-item,
.rail-week-item:hover,
.mini-week.selected {
  background: linear-gradient(90deg, var(--final-green-1), var(--final-green-2)) !important;
  color: #fff !important;
  border-color: transparent !important;
  box-shadow: 0 8px 20px rgba(6,127,74,0.06) !important;
}

/* Make primary buttons and their focus rings consistently green */
.btn-primary { background: var(--g-600) !important; color: #fff !important; border-color: transparent !important; }
.btn-primary:hover { background: var(--g-500) !important; }
.btn-primary:focus, .btn-primary:focus-visible, .btn:focus-visible, .link-btn:focus-visible { outline: 3px solid var(--focus-ring) !important; outline-offset: 2px !important; }

/* Replace remaining blue/purple top-left selected indicators */
.course-sidebar .week-item.selected,
.course-sidebar .week-item.selected .check,
.course-sidebar .week-item.done .check,
.week-item.done .check,
.week-item.done .week-check { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; color:#fff !important; border-color: transparent !important; }

/* Calendar today highlight -> green */
.calendar-card .day.today { background: linear-gradient(180deg,#16a34a,#059669) !important; color: #fff !important; box-shadow: 0 8px 24px rgba(6,127,74,0.16) !important; border: none !important; }

/* Replace focus and outline blues used earlier */
.search-highlight { outline: 3px solid rgba(6,127,74,0.12) !important; box-shadow: 0 14px 40px rgba(6,127,74,0.06) !important; }
.program-week-tile:focus-visible { border-color: rgba(6,127,74,0.18) !important; box-shadow: 0 18px 40px rgba(6,127,74,0.12) !important; }

/* Neutralize hard-coded blue/purple inline styles where possible */
[style*="#2563eb"], [style*="#6366f1"], [style*="#4f46e5"], [style*="#6d28d9"], [style*="#0f71ff"], [style*="#3730a3"] {
  background: transparent !important;
  color: inherit !important;
  box-shadow: none !important;
  border-color: transparent !important;
}

/* Ensure cards and canvas keep white surfaces for legibility */
.canvas, .card, .panel, .modal-card { background: var(--surface) !important; color: var(--black) !important; }

/* Final note: this block is intentionally specific and uses !important to
   ensure the prototype maintains a consistent green-first appearance
   even where older styles or inline values remain. */
.calendar-grid .day.today{box-shadow:0 6px 18px rgba(2,6,23,0.08);border:1px solid rgba(255,255,255,0.04)}
.calendar-grid .day .dot{position:absolute;left:8px;top:8px;width:8px;height:8px;border-radius:50%;background:var(--brand);}
.calendar-grid .day.has-deadline{background:linear-gradient(180deg,rgba(6,150,90,0.06),transparent);border:1px solid rgba(6,150,90,0.09)}
.calendar-grid .day .count{position:absolute;left:8px;bottom:6px;font-size:11px;color:var(--muted)}
.calendar-legend{display:flex;gap:8px;align-items:center;font-size:12px;color:var(--muted)}
.calendar-legend .item{display:flex;gap:6px;align-items:center}
.calendar-legend .swatch{width:10px;height:10px;border-radius:3px;background:var(--brand)}

/* Popover for calendar day details */
.popover-card{position:absolute;z-index:1200;min-width:260px;max-width:360px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;box-shadow:0 12px 40px rgba(2,6,23,0.6);padding:12px;color:var(--text)}
.popover-card header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.popover-card .close-btn{background:transparent;border:none;color:var(--muted);cursor:pointer}
.popover-card .assign-list{max-height:260px;overflow:auto;margin-bottom:8px}
.popover-card .assign-item{padding:8px;border-radius:8px;background:rgba(255,255,255,0.01);margin-bottom:6px;display:flex;justify-content:space-between;align-items:center}
.popover-card .assign-item .meta{color:var(--muted);font-size:12px}
.popover-card .small{font-size:13px;color:var(--muted)}
.popover-card .form-row{display:flex;gap:8px;align-items:center}
.popover-card input[type=date], .popover-card input[type=text]{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text)}
.popover-card .btn{padding:6px 8px;border-radius:8px}

/* Modal overlay for centered dialog */
.modal-overlay{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:1400;padding:20px}
.modal-card{max-width:720px;width:100%;border-radius:12px;padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 20px 60px rgba(2,6,23,0.7);color:var(--text)}
.modal-card .assign-list{max-height:320px;overflow:auto}
.modal-card header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.modal-card .close-btn{background:transparent;border:none;color:var(--muted);cursor:pointer}

/* Buttons and focus states */
.link-btn{background:none;border:none;color:var(--brand);cursor:pointer;padding:6px 8px;border-radius:8px}
.link-btn:focus, .btn:focus, .btn-primary:focus { outline:3px solid rgba(37,99,235,0.15); outline-offset:2px }
.btn-primary { background:var(--brand); color:#fff; border: none; padding:8px 12px; border-radius:10px }
.btn-primary:hover { background:var(--brand-2) }

/* Icon-only button used for attach (paperclip) */
.icon-btn{width:40px;height:40px;display:inline-grid;place-items:center;border-radius:10px;padding:6px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted);cursor:pointer}
.icon-btn svg{width:18px;height:18px;display:block}
.icon-btn .icon{ width:18px; height:18px; display:block; color:var(--icon-default) }
.icon-btn .icon use{ color:inherit }
.icon-btn:hover{background:rgba(255,255,255,0.02);color:var(--text)}
.icon-btn:focus{outline:3px solid rgba(10,163,106,0.18)}

/* Avatar wrapper and edit menu */
.profile-avatar-wrapper{position:relative;display:inline-block}
.profile-edit-btn{position:absolute;right:4px;bottom:4px;background:rgba(0,0,0,0.45);color:var(--text);border:none;width:36px;height:36px;border-radius:50%;display:grid;place-items:center;cursor:pointer;font-size:14px}
.profile-edit-btn:focus{outline:3px solid rgba(10,163,106,0.18)}
.profile-menu{position:absolute;right:0;top:calc(100% + 8px);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;padding:8px;min-width:160px;box-shadow:var(--shadow);display:none;z-index:60}
.profile-menu.open{display:block}
.profile-menu button{display:block;width:100%;text-align:left;padding:8px;border-radius:8px;background:transparent;border:none;color:var(--text);}
.profile-menu button:hover{background:rgba(255,255,255,0.02)}

/* small animation for menu */
.profile-menu{transform-origin:100% 0;transition:transform .16s ease,opacity .12s ease;opacity:0;transform:scale(.96);}
.profile-menu.open{opacity:1;transform:scale(1)}

/* Toast notifications */
.toast-container{position:fixed;right:18px;top:18px;z-index:9999;display:flex;flex-direction:column;gap:10px}
.toast{min-width:220px;padding:10px 14px;border-radius:10px;color:var(--text);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));box-shadow:0 8px 30px rgba(0,0,0,0.6);opacity:0;transform:translateY(-6px);transition:opacity .18s ease,transform .18s ease}
.toast.show{opacity:1;transform:translateY(0)}
.toast.success{border-left:4px solid var(--good)}
.toast.warn{border-left:4px solid var(--warn)}
.toast.error{border-left:4px solid var(--bad)}

/* Progress summary card styling */
.progress-summary-card{display:block;padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);}
.progress-summary-card strong{display:block;margin-bottom:8px}
.progress-summary-card .small{font-size:13px;color:var(--muted)}
.progress-summary-card .stat{font-size:18px;font-weight:700;color:var(--brand)}

/* Week grid for 12-week program */
.program-week-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 10px;
  margin-top: 10px;
}
.program-week-tile {
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));
  border: 1px solid rgba(255,255,255,0.03);
  padding: 10px;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease;
  position: relative;
}
.program-week-tile:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.08); }
.program-week-tile.done { border-color: var(--good); box-shadow: 0 8px 20px rgba(52,211,153,0.06); }
.program-week-number { font-weight:700; font-size:14px; color:var(--muted); }
.program-week-title { font-size:12px; color:var(--muted); margin-top:6px; min-height:34px; }
.program-week-score { margin-top:8px; font-size:12px; }
.program-week-tick {
  position: absolute; top:8px; right:8px; width:22px; height:22px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; color:#fff;
}
.program-week-tick.done { background: var(--good); }
.program-week-tick.pending { background: rgba(255,255,255,0.04); color:var(--muted); }
.program-week-progress { height:8px; background:rgba(255,255,255,0.03); border-radius:6px; overflow:hidden; margin-top:8px; }
.program-week-progress > i { display:block; height:100%; background: linear-gradient(90deg, #6aa84f, #2e8b57); width:0%; }

/* Selected week tile visual */
.program-week-tile.selected { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(2,6,23,0.18); border-color: rgba(10,163,106,0.14); }
.program-week-tile .prog-meta { margin-top:8px; font-size:12px; color:var(--muted); }
.program-week-tile .prog-percent { font-weight:700; color:var(--brand-2); }

/* Tick styling inside tile */
.program-week-tick { width:26px; height:26px; font-size:13px }
.program-week-tick.done { background: var(--good); color:#fff }
.program-week-tick.pending { background: rgba(255,255,255,0.04); color:var(--muted) }

/* weeksSection open animation helper */
#weeksSection.open { opacity:1 !important; transform:translateY(0) !important }

/* smoother tile entrance */
.program-week-tile { transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, opacity .18s ease; opacity:1 }
.program-week-tile.fade-in { opacity:0; transform: translateY(8px); }

/* Progress bar inside tile */
.program-week-progress { height:8px; background:rgba(255,255,255,0.06); border-radius:6px; overflow:hidden; margin-top:8px; }
.program-week-progress .bar { height:100%; width:0%; background:linear-gradient(90deg,#6aa84f,#2e8b57); transition:width .4s ease; }

/* small check mark in week lists */
.week-check { width:18px;height:18px;display:inline-flex;align-items:center;justify-content:center;border-radius:4px;color:#fff;font-weight:700;background:transparent }
.week-item.done .week-check, .rail-week-item.done { background:linear-gradient(90deg,#16a34a,#059669); color:#fff }

/* legacy left-sidebar small check element */
.check { width:18px;height:18px;display:inline-flex;align-items:center;justify-content:center;border-radius:4px;color:#fff;font-weight:700;background:transparent }
.week-item.done .check { background:linear-gradient(90deg,#16a34a,#059669); color:#fff }

/* Focus and aria-selected visuals */
.program-week-tile[tabindex] { outline: none; }
.program-week-tile:focus-visible { box-shadow: 0 18px 40px rgba(2,6,23,0.2); transform: translateY(-6px); border-color: rgba(37,99,235,0.18); }
.program-week-tile[aria-selected="true"] { border-color: rgba(10,163,106,0.18); }

@media (max-width:900px){ .program-week-grid { grid-template-columns: repeat(4, 1fr); } }
@media (max-width:520px){ .program-week-grid { grid-template-columns: repeat(3, 1fr); } }

/* Passing threshold controls in the weekly session */
#passThresholdInput { max-width:70px; background:transparent; color:var(--text); }
#savePassThresholdBtn { padding:6px 8px; }
/* Threshold source badge */
.threshold-source{font-size:12px;color:var(--muted);margin-left:8px;padding:4px 8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.02);display:inline-block;vertical-align:middle}
.threshold-source.local{color:#e6f6ef;background:rgba(10,163,106,0.06);border-color:rgba(10,163,106,0.08)}
.threshold-source.server{color:var(--muted);background:transparent}
.threshold-source.default{color:var(--muted);background:transparent}

/* ------------------------------------------------------------------ */
/* Styles that were previously inline in `dashboard.html` (extracted)  */
/* Kept small and local to the prototype page layout (left-rail, canvas) */
/* ------------------------------------------------------------------ */

/* Prototype canvas & left rail (from dashboard.html) */
.app-wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
.canvas{width:1100px;background:var(--card);border-radius:12px;box-shadow:0 8px 24px rgba(2,6,23,0.15);display:flex;overflow:visible;gap:18px}
.left-rail{width:76px; /* narrow icon rail width */
  background: linear-gradient(180deg, rgba(6,150,90,0.12), rgba(4,120,70,0.06));
  padding:12px 10px; display:flex; flex-direction:column; gap:10px; align-items:center;
  border-right:1px solid rgba(255,255,255,0.03); border-top-left-radius:12px; border-bottom-left-radius:12px;
}
.rail-btn{width:52px; height:52px; border-radius:12px; border:0; background:transparent; color:rgba(255,255,255,0.9); display:grid; place-items:center; cursor:pointer; transition:transform .12s ease, box-shadow .12s ease, background .12s ease}
.rail-btn:hover{ transform:translateY(-4px); box-shadow:0 10px 24px rgba(4,120,70,0.08); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
.rail-btn svg{width:20px;height:20px;color:rgba(255,255,255,0.88); transition:color .14s ease, transform .12s ease}
.rail-btn.active{ background: linear-gradient(180deg, var(--brand), var(--brand-2)); color:#fff; box-shadow:0 12px 30px rgba(4,120,70,0.16); transform:translateY(-2px)}
.rail-btn.active svg{ color:#fff }
.main-area{flex:1;padding:20px}
.top-row{display:flex;justify-content:space-between;align-items:center}
.kpi-row{display:flex;gap:12px;margin-top:14px}
.kpi{background:#f8fafc;padding:12px;border-radius:8px;flex:1;text-align:center}
.kpi .value{font-size:20px;font-weight:600}
.card{background:#fff;border-radius:8px;padding:12px}
.role-select{padding:6px;border-radius:6px}
#lessonsList{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}
.lesson-card{border:1px solid #eef2ff;padding:10px;border-radius:8px}
@media(max-width:1000px){ .canvas{width:100%;flex-direction:column} .left-rail{flex-direction:row;width:100%;border-right:0;border-bottom:1px solid rgba(0,0,0,0.04)} }

/* Right column sizing and simple layout to match the mock */
.right-column{width:300px;padding:0 8px 8px 0;display:flex;flex-direction:column;gap:12px}
.right-column .card{background:#fff;border-radius:12px;padding:12px;color:#072f2a;border:1px solid #eef2f6}
.calendar-card{padding:12px}
.calendar-card .calendar-grid .day{background:transparent;color:#334155;border-radius:8px}
.calendar-card .day.today{background:#6d28d9;color:#fff;border:none;box-shadow:0 8px 24px rgba(109,40,217,0.16)}
.upcoming-card{background:#ffffff}
.notice-board .notice-item .muted{color:#6b7280}

/* popover tweaks (rely on existing .popover-card rules but ensure small default) */
#calendarPopover{max-width:320px;padding:12px}

@media (max-width:1100px){ .canvas{width:100%} .right-column{width:100%} }

/* small helper to ensure muted label matches existing theme variables */
.muted{color:var(--muted)}

/* High-contrast overrides for canvas content to improve readability */
.canvas { color: #0b1220; }
.canvas .card { background: #ffffff; color: #0b1220; }
.canvas .lesson-card { background: #ffffff; color: #0b1220; border-color: #e6eef3 }
.canvas .lesson-title { color: #072f2a; font-size:16px; font-weight:800 }
.canvas .lesson-summary, .canvas .muted { color: #475569; font-size:14px }
.canvas .program-week-tile { background: linear-gradient(180deg,#ffffff,#fbfbfb); color: #0b1220; border:1px solid rgba(15,23,42,0.06); }
.canvas .program-week-title { color: #334155; font-weight:700; font-size:14px }
.canvas .program-week-number { color: #6b7280; font-weight:800; font-size:13px }
.canvas .prog-meta, .canvas .program-week-score, .canvas .prog-percent { color:#334155; font-size:13px }
.canvas .program-week-progress { background: #eef2f7 }
.canvas .program-week-progress .bar { background: linear-gradient(90deg,#16a34a,#059669) }
.canvas a { color: #065f46; text-decoration:underline }
.canvas .kpi { background:#ffffff; color:#0b1220; border:1px solid #eef2f6 }
.canvas .kpi .value { color:#0b1220; font-size:22px; font-weight:800 }

/* Improve contrast for top labels and headings inside canvas */
/* Make all dashboard headings black for maximum contrast */
.student-dashboard .hero h1,
.student-dashboard .canvas h1,
.student-dashboard .canvas h2,
.student-dashboard .canvas h3,
.student-dashboard .canvas h4,
.student-dashboard .canvas h5,
.student-dashboard .canvas h6,
.canvas h1,
.canvas h2,
.canvas h3,
.canvas h4,
.canvas h5,
.canvas h6,
.card > h3 {
  color: var(--heading-black) !important;
  font-weight:800;
}

/* Make the main page title and program weeks title white when shown (for rails 1/2/3) */
.canvas #title, .canvas #weeksTitle { color: #ffffff !important; }

/* Ensure buttons inside canvas have visible text */
.canvas .btn, .canvas .btn-primary, .canvas .link-btn { color: #06201a; font-weight:700 }

/* Ensure week detail text is high contrast */
#weekDetail { color:#072f2a; font-size:15px; line-height:1.45 }

/* Slightly larger base for cards and lesson text to improve legibility */
.card { font-size:14px }

/* ------------------------------------------------------------------ */
/* Global Green Theme Overrides (apply a unified green-only palette)  */
/* This block intentionally targets visual properties only; no JS
   behavior is changed. Use with care â€” overrides use !important where
   necessary to ensure consistent theme across the prototype. */
/* ------------------------------------------------------------------ */
:root {
  --g-900: #052b20;
  --g-800: #073b29;
  --g-700: #0b6b44;
  --g-600: #0f8f56;
  --g-500: #12b57f;
  --g-400: #34d399;
  --g-300: #9be3c6;
  --g-100: #edf9f2;
}

/* Page background and primary canvas */
body, .student-dashboard .canvas { background: linear-gradient(180deg, var(--g-900) 0%, var(--g-700) 100%) !important; color: #e6f6ef !important; }
.canvas { box-shadow: 0 30px 60px rgba(2,6,23,0.22) !important; }

/* Cards: subtle green-tinted panels */
.card, .panel, .modal-card, .popover-card { background: linear-gradient(180deg, rgba(11,107,68,0.06), rgba(11,107,68,0.03)) !important; border-color: rgba(255,255,255,0.03) !important; color: #eaf7ef !important; }

/* Headings and prominent text */
.canvas h1, .canvas h2, .canvas h3, .canvas h4, .card > h3 { color: #eafff3 !important; }
.lesson-title, .profile-name { color: #f3fff6 !important; }

/* Muted text -> soft green */
.muted, .canvas .muted, .profile-email { color: var(--g-300) !important; }

/* Buttons and links */
.btn-primary { background: var(--g-600) !important; color: #fff !important; border-color: transparent !important; }
.btn-primary:hover { background: var(--g-500) !important; }
.btn, .link-btn { color: #e9fbf0 !important; border-color: rgba(255,255,255,0.04) !important; }
a, .canvas a { color: var(--g-300) !important; }

/* Topbar and nav */
.topbar { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)) !important; border-color: rgba(255,255,255,0.02) !important; }
.sidebar, .student-dashboard .sidebar { background: linear-gradient(180deg, var(--g-900), var(--g-800)) !important; }

/* Left rail and rail buttons */
.left-rail, .student-dashboard .left-rail { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01)) !important; }
.rail-btn { background: transparent !important; color: #e9fbf0 !important; }
.rail-btn.active, .rail-btn[aria-pressed="true"] { background: linear-gradient(180deg,var(--g-700),var(--g-600)) !important; color:#fff !important; box-shadow:0 12px 30px rgba(4,80,50,0.18) !important; }
.rail-btn:hover { box-shadow:0 10px 24px rgba(4,80,50,0.10) !important; }

/* KPI and stat colors */
.kpi, .kpi .value { background: rgba(255,255,255,0.02) !important; color: #eafff3 !important; }
.kpi.good { color: var(--g-400) !important; }
.kpi.warn { color: var(--g-500) !important; }

/* Week tiles and progress bars */
.program-week-tile { background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.01)) !important; color: #eafff3 !important; border-color: rgba(255,255,255,0.03) !important; }
.program-week-tile.selected { box-shadow: 0 18px 40px rgba(3,80,48,0.18) !important; border-color: rgba(6,105,56,0.18) !important; }
.program-week-tick.done { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; }
.program-week-progress .bar { background: linear-gradient(90deg,var(--g-400),var(--g-500)) !important; }

/* Progress summary, badges and small UI touches */
.threshold-source.local { background: rgba(10,163,106,0.06) !important; color: #eafff3 !important; border-color: rgba(10,163,106,0.08) !important; }
.toast.success { border-left:4px solid var(--g-400) !important; }

/* Forms and inputs - subtle green focus */
input:focus, select:focus, textarea:focus { border-color: var(--g-500) !important; box-shadow: 0 0 0 4px rgba(6,127,74,0.12) !important; }

/* Ensure images/icons remain visible on dark green backgrounds */
.logo-img, .profile-card img { box-shadow: 0 8px 24px rgba(0,0,0,0.6) !important; border: 2px solid rgba(255,255,255,0.04) !important; }

/* Last-resort override: avoid hard-coded blues showing through */
[style*="#0f71ff"], [style*="#2f4ea1"], [style*="#3b57a9"] { color: inherit !important; background: transparent !important; }

/* End global green-theme overrides */

/* ------------------------------------------------------------------ */
/* Ensure white text on green backgrounds (contrast fix)              */
/* Targets: sidebar, left-rail, vendor/moto top-level areas, nav links */
/* Does not change any JavaScript or interactive behavior.            */
/* ------------------------------------------------------------------ */
.sidebar,
.student-dashboard.vendor .sidebar,
.student-dashboard.moto .sidebar,
.student-dashboard.vendor .left-rail,
.student-dashboard.moto .left-rail {
  color: var(--white) !important;
}

/* Navigation links inside green sidebar should be white */
.student-dashboard.vendor .nav a,
.student-dashboard.moto .nav a,
.student-dashboard.vendor .nav a:hover,
.student-dashboard.moto .nav a:hover {
  color: rgba(255,255,255,0.96) !important;
}
.student-dashboard.vendor .nav a.active,
.student-dashboard.moto .nav a.active {
  color: #fff !important;
}

/* Rail buttons and icons on green rails */
.student-dashboard.vendor .rail-btn,
.student-dashboard.moto .rail-btn,
.student-dashboard.vendor .rail-btn svg,
.student-dashboard.moto .rail-btn svg {
  color: var(--white) !important;
}

/* KPI and header text in vendor/moto views */
.student-dashboard.vendor .kpi,
.student-dashboard.moto .kpi,
.student-dashboard.vendor .kpi .value,
.student-dashboard.moto .kpi .value,
.student-dashboard.vendor .brand-text,
.student-dashboard.moto .brand-text,
.student-dashboard.vendor .user-chip,
.student-dashboard.moto .user-chip {
  color: var(--white) !important;
}

/* Keep canvas and card surfaces readable (they override to dark text elsewhere) */
.student-dashboard.vendor .canvas, .student-dashboard.moto .canvas,
.student-dashboard.vendor .canvas *, .student-dashboard.moto .canvas * {
  color: inherit; /* let existing canvas rules control text color */
}

/* Safety: nav badges and small labels on green surfaces */
.student-dashboard.vendor .user-badge, .student-dashboard.moto .user-badge,
.student-dashboard.vendor .profile-name, .student-dashboard.moto .profile-name {
  color: var(--white) !important;
}

/* End contrast fixes */

