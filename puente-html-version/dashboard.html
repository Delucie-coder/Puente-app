<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard — redesign</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Styles moved to style.css for central management -->

  <div class="app-wrap">
    <div class="canvas" role="application">
      <nav class="left-rail" aria-label="Main navigation" role="toolbar">
        <button id="railDashboard" class="rail-btn active" title="Dashboard (Alt+1)" aria-pressed="true" aria-label="Dashboard">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 13h8V3H3v10zM13 21h8V11h-8v10zM13 3v6h8V3h-8zM3 21h8v-6H3v6z" fill="currentColor"/></svg>
        </button>
        <button id="railLessons" class="rail-btn" title="Lessons (Alt+2)" aria-pressed="false" aria-label="Lessons">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 6h16v12H4zM6 8v8" stroke="currentColor" stroke-width="1.2" fill="currentColor"/></svg>
        </button>
        <button id="railSchedule" class="rail-btn" title="Schedule (Alt+3)" aria-pressed="false" aria-label="Schedule">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M7 2v4M17 2v4M3 10h18M5 22h14V8H5v14z" fill="currentColor"/></svg>
        </button>
        <button id="railMaterials" class="rail-btn" title="Materials (Alt+4)" aria-pressed="false" aria-label="Materials">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 6h16v12H4zM4 6l8 6 8-6" fill="currentColor"/></svg>
        </button>
        <button id="railForum" class="rail-btn" title="Forum (Alt+5)" aria-pressed="false" aria-label="Forum">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z" fill="currentColor"/></svg>
        </button>
        <button id="railAssessments" class="rail-btn" title="Assessments (Alt+6)" aria-pressed="false" aria-label="Assessments">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l3 7h7l-5.5 4 2 7L12 16 5.5 20l2-7L2 9h7z" fill="currentColor"/></svg>
        </button>
        <button id="railSettings" class="rail-btn" title="Settings (Alt+7)" aria-pressed="false" aria-label="Settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8zM2 12a10 10 0 0 1 18-6 10 10 0 0 1 0 12 10 10 0 0 1-18-6z" fill="currentColor"/></svg>
        </button>
      </nav>
  <section class="main-area" id="mainArea">
        <div class="top-row">
          <div>
            <h2 id="title">Welcome</h2>
            <div class="muted">Interactive prototype — role-aware lessons & KPIs</div>
          </div>
          <div style="display:flex;gap:12px;align-items:center">
            <label class="muted">Role:</label>
            <select id="roleSelect" class="role-select" aria-label="Choose role">
              <option value="">All</option>
              <option value="vendor">Vendor</option>
              <option value="moto">Moto</option>
            </select>
          </div>
        </div>

        <div class="kpi-row" aria-live="polite">
          <div class="kpi card"><div class="label muted">Performance</div><div id="kpiPerformance" class="value">-</div></div>
          <div class="kpi card"><div class="label muted">Attendance</div><div id="kpiAttendance" class="value">-</div></div>
          <div class="kpi card"><div class="label muted">Completion</div><div id="kpiCompletion" class="value">-</div></div>
        </div>

        <section id="lessonsSection" class="mt-2">
          <h3>Lessons</h3>
          <div id="lessonsList"></div>
        </section>
        
        <!-- Program weeks for selected lesson (hidden until a lesson is opened) -->
  <section id="weeksSection" class="mt-2" style="display:none;opacity:0;transform:translateY(6px);transition:opacity .24s ease,transform .24s ease;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
            <h3 id="weeksTitle">Program weeks</h3>
            <button id="backToLessons" class="btn link-btn" style="margin-left:auto">Back to lessons</button>
          </div>
          <div id="weeksGrid" class="program-week-grid" aria-live="polite"></div>
          <div id="weekDetail" class="card mt-1" style="display:none;margin-top:12px"></div>
        </section>
      </section>

      <!-- Right-hand column: calendar, upcoming and notice board -->
      <aside class="right-column" aria-label="Right column widgets">
        <div class="card calendar-card" aria-hidden="false">
          <div class="calendar-header">
            <strong>January 2022</strong>
            <div class="calendar-nav">
              <button id="calPrev" aria-label="Previous month" class="icon-btn">◀</button>
              <button id="calNext" aria-label="Next month" class="icon-btn">▶</button>
            </div>
          </div>
          <div class="calendar-grid" role="grid" aria-label="January 2022 calendar">
            <div class="day header">Sun</div>
            <div class="day header">Mon</div>
            <div class="day header">Tue</div>
            <div class="day header">Wed</div>
            <div class="day header">Thu</div>
            <div class="day header">Fri</div>
            <div class="day header">Sat</div>
            <!-- simple static month layout for prototype (1..31) -->
            <!-- pad start with blanks for demo: Jan 2022 starts on Sat, so six blanks then 1 -->
            <div class="day"></div>
            <div class="day"></div>
            <div class="day"></div>
            <div class="day"></div>
            <div class="day"></div>
            <div class="day"></div>
            <div class="day">1</div>
            <div class="day">2</div>
            <div class="day">3</div>
            <div class="day">4</div>
            <div class="day">5</div>
            <div class="day">6</div>
            <div class="day">7</div>
            <div class="day">8</div>
            <div class="day">9</div>
            <div class="day">10</div>
            <div class="day">11</div>
            <div class="day">12</div>
            <div class="day today">13</div>
            <div class="day">14</div>
            <div class="day">15</div>
            <div class="day">16</div>
            <div class="day">17</div>
            <div class="day">18</div>
            <div class="day">19</div>
            <div class="day">20</div>
            <div class="day">21</div>
            <div class="day">22</div>
            <div class="day">23</div>
            <div class="day">24</div>
            <div class="day">25</div>
            <div class="day">26</div>
            <div class="day">27</div>
            <div class="day">28</div>
            <div class="day">29</div>
            <div class="day">30</div>
            <div class="day">31</div>
          </div>
          <div class="calendar-legend" style="margin-top:8px">
            <div class="item"><span class="swatch"></span> Events</div>
            <div class="item" style="margin-left:8px;color:var(--muted)">13 selected</div>
          </div>
        </div>

        <div class="card mt-1 upcoming-card">
          <h4 style="margin-bottom:8px">Upcoming</h4>
          <div class="upcoming-item"><div style="flex:1"><strong>Orientation — Vendors</strong><div class="muted">10:00 AM</div></div></div>
          <div class="upcoming-item"><div style="flex:1"><strong>Market safety talk</strong><div class="muted">2:30 PM</div></div></div>
        </div>

        <div class="card mt-1 notice-board">
          <h4 style="margin-bottom:8px">Notice Board</h4>
          <div class="notice-item" style="display:flex;gap:10px;align-items:flex-start;margin-bottom:10px">
            <div style="width:42px;height:42px;border-radius:8px;background:#f3f4f6"></div>
            <div style="flex:1"><strong>Time Extension Notice</strong><div class="muted">By Admin • 12 Jan</div></div>
          </div>
          <div class="notice-item" style="display:flex;gap:10px;align-items:flex-start;margin-bottom:10px">
            <div style="width:42px;height:42px;border-radius:8px;background:#f3f4f6"></div>
            <div style="flex:1"><strong>COVID-19 Vaccination Survey</strong><div class="muted">By Health • 02 Jan</div></div>
          </div>
          <div style="text-align:center;margin-top:6px"><button class="btn link-btn">View all notices</button></div>
        </div>
      </aside>
    </div>
  </div>

  <script src="dashboard.js"></script>
  <!-- calendar popover root (used by calendar JS) -->
  <div id="calendarPopover" class="popover-card" style="display:none"></div>
</body>
</html>
